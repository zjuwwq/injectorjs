// injector.js v0.1.0 (2014-07-03) //
!function(a,b){"use strict";"function"==typeof define&&define.amd?define(b):"object"==typeof module&&"object"==typeof exports&&module.exports===exports?module.exports=b():a.injector=b()}(this,function(){function a(a){return Object.prototype.toString.call(a).match(e)[1]}function b(b){return"String"===a(b)?0===b.indexOf(h)?b.substring(h.length):b:void 0}function c(a,b){i[a]=b}function d(c){function d(){var e,f,g=d.$injects||[],h=[];return g.forEach(function(c){if(!(c in i))throw new Error("resolve failed: "+c+"is not registered");e=i[b(c)],"Function"===a(e)&&(f=e(),e="Object"===a(f)?f:new e),h.push(e)}),c.apply({},Array.prototype.slice.call(arguments).concat(h))}if("Function"===a(c)){var e,j,k=c.toString().replace(f,""),l=k.match(g)[1].replace(/\s*/g,""),m=l.indexOf(h),n=[];if(-1!==m){e=l.substring(m),j=e.split(",");for(var o,p=0;o=j[p];p++)if(0!==o.indexOf(h))throw new Error("resolve failed: all injected must at the end of arguments");j.forEach(function(a){n.push(b(a))})}return d.$injects=c.$injects||n,d.prototype=c.prototype,d.prototype.constructor=d,d}}Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=0,d=this.length;d>c;c++)a.call(b,this[c],c,this)});var e=/\s+(\w+)\]$/,f=/\/\/.*$|\/\*[\s\S]*?\*\//gm,g=/\(([\s\S]*?)\)/m,h="$",i={};return{register:c,resolve:d,config:{injectPrefix:h}}});